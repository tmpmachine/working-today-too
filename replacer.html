<textarea id="templateEl" rows="5" cols="30"></textarea>
<textarea id="jsonInput" rows="5" cols="30"></textarea>
<button id="runBtn">Run</button>

<script>
    let $=document.querySelector.bind(document)
runBtn.onclick = () => {
  const template = $('#templateEl').value;
  const input = $('#jsonInput').value.trim();
  let data;
  try {
    data = JSON.parse(input);
  } catch (e) {
    console.error('Invalid JSON');
    return;
  }

  const process = (obj) => {
    let result = template;
    for (const [k, v] of Object.entries(obj)) {
      result = result.replaceAll(`<!--${k}-->`, v);
    }
    return result;
  };

  let output = Array.isArray(data)
    ? data.map(process).join('\n\n')
    : process(data);

  console.log(output);
};
</script>
